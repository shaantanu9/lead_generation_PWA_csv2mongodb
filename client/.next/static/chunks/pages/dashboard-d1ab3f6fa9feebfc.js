(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[26],{1840:function(e,t,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard",function(){return o(311)}])},311:function(e,t,o){"use strict";o.r(t);var l=o(5893),n=o(1163),s=o(7294),a=o(9362),r=o(5487);let i=e=>{let[t,o]=s.useState(null),[i,u]=s.useState(null),[d,c]=s.useState(!1),[p,h]=s.useState(null),[g,b]=s.useState(!1),f=(0,n.useRouter)();s.useEffect(()=>{localStorage.getItem("token")||f.push("/login")},[]);let x=e=>{let t=e.target.files[0];console.log(t,"this is selected"),o(t)},m=async e=>{e.preventDefault(),c(!0);let o=new FormData;o.append("file",t),console.log(o,"this is data");try{let l=await a.Z.post("/leads/create",o,{headers:{"Content-Type":"multipart/form-data",authorization:"Bearer ".concat(localStorage.getItem("token"))}});console.log(l,"this is res"),c(!1),h("File uploaded successfully"),u(null)}catch(n){u("Error uploading file"),console.log(n,"this is error"),c(!1),h(null)}};return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"container mx-auto p-3",children:[(0,l.jsxs)("form",{onSubmit:m,children:[(0,l.jsx)("input",{type:"file",onChange:x,id:"file",accept:".csv",className:" border:blog hover:bg-blog/10 text-blog font-bold py-2 px-4 rounded"}),(0,l.jsx)("button",{type:"submit",className:"bg-blog/50 hover:bg-blog/75 text-white font-bold py-2 px-4 rounded",children:"Upload"}),d&&(0,l.jsx)("p",{children:"Loading..."}),i&&(0,l.jsx)("p",{className:"bg-red-500 text-white font-bold py-2 px-4 rounded",children:i}),p&&(0,l.jsx)("p",{className:"bg-green-500 text-white font-bold py-2 px-4 rounded",children:p})]}),(0,l.jsx)("button",{onClick:()=>b(!g),className:"bg-blog hover:bg-blog/75 text-white font-bold py-2 px-4 rounded",children:"Show Uploaded Data"}),g&&(0,l.jsx)(r.zt,{})]})})};t.default=s.memo(i)}},function(e){e.O(0,[774,888,179],function(){return e(e.s=1840)}),_N_E=e.O()}]);